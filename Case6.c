#include "common.h"

// 6. 저장 함수
void saveFile(FILE *fp, Member_t *id)   // 메모리에 저장되어 있는 내용을 파일로 저장
{
	fp = fopen("data.txt", "wt");
	fprintf(fp, "회원아이디\t회원이름\t회원주소\t핸드폰번호\n");     //맨첫줄 저장
	
	Member_t *printmember = (Member_t *)malloc(sizeof(Member_t));
	printmember->next = id[0].next;

	while(printmember->next != NULL){
		fprintf(fp, "%d\t%s\t%s\t%s\n", printmember->next->Studentnum, printmember->next->Name, printmember->next->Address, printmember->next->Cellphone);
		printmember->next = printmember->next->next;
	}

	fclose(fp);
	free(printmember);
	cursorOff();
	system("cls");
	fileSaveUI();
	getch();
	cursorOn();
}

void fileSaveUI(void)   // 파일 저장 UI 출력
{
	gotoxy(0, 0);
	textColor(16 * 14);
	printf("                                < 파일 저장 >                              ");
	textColor(7);
	gotoxy(1, 6);    printf("┌──────────────────────────────────┐");
	gotoxy(1, 7);    printf("│                                                                    │");
	gotoxy(1, 8);    printf("│                                                                    │");
	gotoxy(1, 9);    printf("│                                                                    │");
	gotoxy(1, 10);   printf("│                                                                    │");
	gotoxy(1, 11);   printf("│                                                                    │");
	gotoxy(1, 12);   printf("│                                                                    │");
	gotoxy(1, 13);   printf("│                                                                    │");
	gotoxy(1, 14);   printf("│                                                                    │");
	gotoxy(1, 15);   printf("│                                                                    │");
	gotoxy(1, 16);   printf("└──────────────────────────────────┘");
	gotoxy(32, 18);  printf("< 저장 중 >");
	gotoxy(3, 7);   printf("■");
	gotoxy(3, 8);   printf("■");
	gotoxy(3, 9);   printf("■");
	gotoxy(3, 10);  printf("■");
	gotoxy(3, 11);  printf("■");
	gotoxy(3, 12);  printf("■");
	gotoxy(3, 13);  printf("■");
	gotoxy(3, 14);  printf("■");
	gotoxy(3, 15);  printf("■"); Sleep(107);
	gotoxy(5, 7);   printf("■");
	gotoxy(5, 8);   printf("■");
	gotoxy(5, 9);   printf("■");
	gotoxy(5, 10);  printf("■");
	gotoxy(5, 11);  printf("■");
	gotoxy(5, 12);  printf("■");
	gotoxy(5, 13);  printf("■");
	gotoxy(5, 14);  printf("■");
	gotoxy(5, 15);  printf("■"); Sleep(107);
	gotoxy(7, 7);   printf("■");
	gotoxy(7, 8);   printf("■");
	gotoxy(7, 9);   printf("□");
	gotoxy(7, 10);  printf("■");
	gotoxy(7, 11);  printf("■");
	gotoxy(7, 12);  printf("■");
	gotoxy(7, 13);  printf("□");
	gotoxy(7, 14);  printf("■");
	gotoxy(7, 15);  printf("■"); Sleep(97);
	gotoxy(9, 7);   printf("■");
	gotoxy(9, 8);   printf("□");
	gotoxy(9, 9);   printf("■");
	gotoxy(9, 10);  printf("□");
	gotoxy(9, 11);  printf("■");
	gotoxy(9, 12);  printf("■");
	gotoxy(9, 13);  printf("■");
	gotoxy(9, 14);  printf("□");
	gotoxy(9, 15);  printf("■"); Sleep(97);
	gotoxy(11, 7);  printf("■");
	gotoxy(11, 8);  printf("□");
	gotoxy(11, 9);  printf("■");
	gotoxy(11, 10); printf("■");
	gotoxy(11, 11); printf("□");
	gotoxy(11, 12); printf("■");
	gotoxy(11, 13); printf("■");
	gotoxy(11, 14); printf("□");
	gotoxy(11, 15); printf("■"); Sleep(97);
	gotoxy(13, 7);  printf("■");
	gotoxy(13, 8);  printf("□");
	gotoxy(13, 9);  printf("■");
	gotoxy(13, 10); printf("■");
	gotoxy(13, 11); printf("■");
	gotoxy(13, 12); printf("□");
	gotoxy(13, 13); printf("■");
	gotoxy(13, 14); printf("□");
	gotoxy(13, 15); printf("■"); Sleep(87);
	gotoxy(15, 7);  printf("■");
	gotoxy(15, 8);  printf("■");
	gotoxy(15, 9);  printf("□");
	gotoxy(15, 10); printf("■");
	gotoxy(15, 11); printf("■");
	gotoxy(15, 12); printf("■");
	gotoxy(15, 13); printf("□");
	gotoxy(15, 14); printf("■");
	gotoxy(15, 15); printf("■"); Sleep(87);
	gotoxy(17, 7);  printf("■");
	gotoxy(17, 8);  printf("■");
	gotoxy(17, 9);  printf("■");
	gotoxy(17, 10); printf("■");
	gotoxy(17, 11); printf("■");
	gotoxy(17, 12); printf("■");
	gotoxy(17, 13); printf("■");
	gotoxy(17, 14); printf("■");
	gotoxy(17, 15); printf("■"); Sleep(87);
	gotoxy(19, 7);  printf("■");
	gotoxy(19, 8);  printf("■");
	gotoxy(19, 9);  printf("■");
	gotoxy(19, 10); printf("■");
	gotoxy(19, 11); printf("■");
	gotoxy(19, 12); printf("■");
	gotoxy(19, 13); printf("■");
	gotoxy(19, 14); printf("■");
	gotoxy(19, 15); printf("■"); Sleep(87);
	gotoxy(21, 7);  printf("■");
	gotoxy(21, 8);  printf("■");
	gotoxy(21, 9);  printf("□");
	gotoxy(21, 10); printf("□");
	gotoxy(21, 11); printf("□");
	gotoxy(21, 12); printf("□");
	gotoxy(21, 13); printf("□");
	gotoxy(21, 14); printf("□");
	gotoxy(21, 15); printf("■"); Sleep(77);
	gotoxy(23, 7);  printf("■");
	gotoxy(23, 8);  printf("□");
	gotoxy(23, 9);  printf("■");
	gotoxy(23, 10); printf("■");
	gotoxy(23, 11); printf("□");
	gotoxy(23, 12); printf("■");
	gotoxy(23, 13); printf("■");
	gotoxy(23, 14); printf("■");
	gotoxy(23, 15); printf("■"); Sleep(77);
	gotoxy(25, 7);  printf("■");
	gotoxy(25, 8);  printf("□");
	gotoxy(25, 9);  printf("■");
	gotoxy(25, 10); printf("■");
	gotoxy(25, 11); printf("□");
	gotoxy(25, 12); printf("■");
	gotoxy(25, 13); printf("■");
	gotoxy(25, 14); printf("■");
	gotoxy(25, 15); printf("■"); Sleep(77);
	gotoxy(27, 7);  printf("■");
	gotoxy(27, 8);  printf("□");
	gotoxy(27, 9);  printf("■");
	gotoxy(27, 10); printf("■");
	gotoxy(27, 11); printf("□");
	gotoxy(27, 12); printf("■");
	gotoxy(27, 13); printf("■");
	gotoxy(27, 14); printf("■");
	gotoxy(27, 15); printf("■"); Sleep(67);
	gotoxy(29, 7);  printf("■");
	gotoxy(29, 8);  printf("■");
	gotoxy(29, 9);  printf("□");
	gotoxy(29, 10); printf("□");
	gotoxy(29, 11); printf("□");
	gotoxy(29, 12); printf("□");
	gotoxy(29, 13); printf("□");
	gotoxy(29, 14); printf("□");
	gotoxy(29, 15); printf("■"); Sleep(67);
	gotoxy(31, 7);  printf("■");
	gotoxy(31, 8);  printf("■");
	gotoxy(31, 9);  printf("■");
	gotoxy(31, 10); printf("■");
	gotoxy(31, 11); printf("■");
	gotoxy(31, 12); printf("■");
	gotoxy(31, 13); printf("■");
	gotoxy(31, 14); printf("■");
	gotoxy(31, 15); printf("■"); Sleep(57);
	gotoxy(33, 7);  printf("■");
	gotoxy(33, 8);  printf("■");
	gotoxy(33, 9);  printf("■");
	gotoxy(33, 10); printf("■");
	gotoxy(33, 11); printf("■");
	gotoxy(33, 12); printf("■");
	gotoxy(33, 13); printf("■");
	gotoxy(33, 14); printf("■");
	gotoxy(33, 15); printf("■"); Sleep(57);
	gotoxy(35, 7);  printf("■");
	gotoxy(35, 8);  printf("□");
	gotoxy(35, 9);  printf("□");
	gotoxy(35, 10); printf("□");
	gotoxy(35, 11); printf("□");
	gotoxy(35, 12); printf("□");
	gotoxy(35, 13); printf("■");
	gotoxy(35, 14); printf("■");
	gotoxy(35, 15); printf("■"); Sleep(57);
	gotoxy(37, 7);  printf("■");
	gotoxy(37, 8);  printf("■");
	gotoxy(37, 9);  printf("■");
	gotoxy(37, 10); printf("■");
	gotoxy(37, 11); printf("■");
	gotoxy(37, 12); printf("■");
	gotoxy(37, 13); printf("□");
	gotoxy(37, 14); printf("■");
	gotoxy(37, 15); printf("■"); Sleep(47);
	gotoxy(39, 7);  printf("■");
	gotoxy(39, 8);  printf("■");
	gotoxy(39, 9);  printf("■");
	gotoxy(39, 10); printf("■");
	gotoxy(39, 11); printf("■");
	gotoxy(39, 12); printf("■");
	gotoxy(39, 13); printf("■");
	gotoxy(39, 14); printf("□");
	gotoxy(39, 15); printf("■"); Sleep(47);
	gotoxy(41, 7);  printf("■");
	gotoxy(41, 8);  printf("■");
	gotoxy(41, 9);  printf("■");
	gotoxy(41, 10); printf("■");
	gotoxy(41, 11); printf("■");
	gotoxy(41, 12); printf("■");
	gotoxy(41, 13); printf("□");
	gotoxy(41, 14); printf("■");
	gotoxy(41, 15); printf("■"); Sleep(37);
	gotoxy(43, 7);  printf("■");
	gotoxy(43, 8);  printf("□");
	gotoxy(43, 9);  printf("□");
	gotoxy(43, 10); printf("□");
	gotoxy(43, 11); printf("□");
	gotoxy(43, 12); printf("□");
	gotoxy(43, 13); printf("■");
	gotoxy(43, 14); printf("■");
	gotoxy(43, 15); printf("■"); Sleep(37);
	gotoxy(45, 7);  printf("■");
	gotoxy(45, 8);  printf("■");
	gotoxy(45, 9);  printf("■");
	gotoxy(45, 10); printf("■");
	gotoxy(45, 11); printf("■");
	gotoxy(45, 12); printf("■");
	gotoxy(45, 13); printf("■");
	gotoxy(45, 14); printf("■");
	gotoxy(45, 15); printf("■"); Sleep(27);
	gotoxy(47, 7);  printf("■");
	gotoxy(47, 8);  printf("■");
	gotoxy(47, 9);  printf("■");
	gotoxy(47, 10); printf("■");
	gotoxy(47, 11); printf("■");
	gotoxy(47, 12); printf("■");
	gotoxy(47, 13); printf("■");
	gotoxy(47, 14); printf("■");
	gotoxy(47, 15); printf("■"); Sleep(27);
	gotoxy(49, 7);  printf("■");
	gotoxy(49, 8);  printf("□");
	gotoxy(49, 9);  printf("□");
	gotoxy(49, 10); printf("□");
	gotoxy(49, 11); printf("□");
	gotoxy(49, 12); printf("□");
	gotoxy(49, 13); printf("□");
	gotoxy(49, 14); printf("□");
	gotoxy(49, 15); printf("■"); Sleep(27);
	gotoxy(51, 7);  printf("■");
	gotoxy(51, 8);  printf("□");
	gotoxy(51, 9);  printf("■");
	gotoxy(51, 10); printf("■");
	gotoxy(51, 11); printf("□");
	gotoxy(51, 12); printf("■");
	gotoxy(51, 13); printf("■");
	gotoxy(51, 14); printf("□");
	gotoxy(51, 15); printf("■"); Sleep(17);
	gotoxy(53, 7);  printf("■");
	gotoxy(53, 8);  printf("□");
	gotoxy(53, 9);  printf("■");
	gotoxy(53, 10); printf("■");
	gotoxy(53, 11); printf("□");
	gotoxy(53, 12); printf("■");
	gotoxy(53, 13); printf("■");
	gotoxy(53, 14); printf("□");
	gotoxy(53, 15); printf("■"); Sleep(17);
	gotoxy(55, 7);  printf("■");
	gotoxy(55, 8);  printf("□");
	gotoxy(55, 9);  printf("■");
	gotoxy(55, 10); printf("■");
	gotoxy(55, 11); printf("□");
	gotoxy(55, 12); printf("■");
	gotoxy(55, 13); printf("■");
	gotoxy(55, 14); printf("□");
	gotoxy(55, 15); printf("■"); Sleep(17);
	gotoxy(57, 7);  printf("■");
	gotoxy(57, 8);  printf("□");
	gotoxy(57, 9);  printf("■");
	gotoxy(57, 10); printf("■");
	gotoxy(57, 11); printf("□");
	gotoxy(57, 12); printf("■");
	gotoxy(57, 13); printf("■");
	gotoxy(57, 14); printf("□");
	gotoxy(57, 15); printf("■"); Sleep(17);
	gotoxy(59, 7);  printf("■");
	gotoxy(59, 8);  printf("■");
	gotoxy(59, 9);  printf("■");
	gotoxy(59, 10); printf("■");
	gotoxy(59, 11); printf("■");
	gotoxy(59, 12); printf("■");
	gotoxy(59, 13); printf("■");
	gotoxy(59, 14); printf("■");
	gotoxy(59, 15); printf("■"); Sleep(27);
	gotoxy(61, 7);  printf("■");
	gotoxy(61, 8);  printf("■");
	gotoxy(61, 9);  printf("■");
	gotoxy(61, 10); printf("■");
	gotoxy(61, 11); printf("■");
	gotoxy(61, 12); printf("■");
	gotoxy(61, 13); printf("■");
	gotoxy(61, 14); printf("■");
	gotoxy(61, 15); printf("■"); Sleep(27);
	gotoxy(63, 7);  printf("■");
	gotoxy(63, 8);  printf("□");
	gotoxy(63, 9);  printf("□");
	gotoxy(63, 10); printf("□");
	gotoxy(63, 11); printf("□");
	gotoxy(63, 12); printf("□");
	gotoxy(63, 13); printf("■");
	gotoxy(63, 14); printf("□");
	gotoxy(63, 15); printf("■"); Sleep(17);
	gotoxy(65, 7);  printf("■");
	gotoxy(65, 8);  printf("■");
	gotoxy(65, 9);  printf("■");
	gotoxy(65, 10); printf("■");
	gotoxy(65, 11); printf("■");
	gotoxy(65, 12); printf("■");
	gotoxy(65, 13); printf("■");
	gotoxy(65, 14); printf("■");
	gotoxy(65, 15); printf("■"); Sleep(7);
	gotoxy(67, 7);  printf("■");
	gotoxy(67, 8);  printf("■");
	gotoxy(67, 9);  printf("■");
	gotoxy(67, 10); printf("■");
	gotoxy(67, 11); printf("■");
	gotoxy(67, 12); printf("■");
	gotoxy(67, 13); printf("■");
	gotoxy(67, 14); printf("■");
	gotoxy(67, 15); printf("■");
	textColor(8);
	gotoxy(69, 7);  printf("■");
	gotoxy(69, 8);  printf("■");
	gotoxy(69, 9);  printf("■");
	gotoxy(69, 10); printf("■");
	gotoxy(69, 11); printf("■");
	gotoxy(69, 12); printf("■");
	gotoxy(69, 13); printf("■");
	gotoxy(69, 14); printf("■");
	gotoxy(69, 15); printf("■");
	gotoxy(32, 18); printf("           ");
	textColor(16 * 10);
	gotoxy(0, 24); printf("              <파일 저장이 완료되었습니다 > 아무 키나 누르세요             ");
	textColor(7);
	gotoxy(62, 24);
}